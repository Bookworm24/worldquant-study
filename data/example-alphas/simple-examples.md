# 简单 Alpha 因子示例

## 1. 价格动量因子

### 基本价格动量
```
rank(PX_LAST / delay(PX_LAST, 20) - 1)
```
- 计算20天前的价格收益率
- 使用rank()函数对所有股票进行横截面排名

### 价格动量（平滑版）
```
rank(sma(PX_LAST / delay(PX_LAST, 5) - 1, 20))
```
- 先计算5天收益率的20天移动平均
- 然后进行排名

## 2. 价值因子

### 市净率因子
```
rank(-PB_RATIO)
```
- 市净率的负值排名（价值股通常PB较低）

### 市盈率因子
```
rank(-PE_RATIO)
```
- 市盈率的负值排名（价值股通常PE较低）

## 3. 波动率因子

### 历史波动率
```
rank(-stddev(PX_LAST, 20))
```
- 20天价格标准差的负值（低波动率偏好）

## 4. 成交量因子

### 成交量动量
```
rank(volume / sma(volume, 20) - 1)
```
- 成交量相对于其20天平均值的偏离度

## 5. 复合因子

### 价格动量 + 成交量确认
```
rank(correlation(PX_LAST, volume, 10)) * rank(PX_LAST / delay(PX_LAST, 10) - 1)
```
- 结合价格与成交量的相关性和价格动量

### 反转因子
```
rank(-ts_rank(PX_LAST, 20)) * rank(volume / sma(volume, 10))
```
- 基于过去20天价格排名的反转策略，结合成交量

## 学习要点

1. **理解rank()函数**：将时序数据转换为横截面排名
2. **掌握delay()函数**：用于计算滞后值
3. **使用sma()函数**：平滑数据以减少噪音
4. **组合不同因子**：通过乘法或加法结合多个信号
5. **注意符号**：负号表示反向信号（如低PB是价值信号）

## 实践练习

尝试构建以下因子：
1. 一个基于收益率反转的因子
2. 一个结合价格和成交量的动量因子
3. 一个基于波动率的因子

记住：在构建因子后，使用WorldQuant平台测试其IC和IR等指标来评估其有效性。